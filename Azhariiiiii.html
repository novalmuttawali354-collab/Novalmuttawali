<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alarm Pribadi untuk Putri</title>
    <style>
        /* --- GAYA VISUAL (CSS) --- */
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Poppins:wght@400;600&display=swap');

        :root {
            --bg-color: #1a1a2e;
            --container-bg: #16213e;
            --primary-color: #e94560;
            --text-color: #f5f5f5;
            --secondary-text: #a8a8a8;
            --accent-color: #0f3460;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        .container {
            background-color: var(--container-bg);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            text-align: center;
            width: 90%;
            max-width: 450px;
            border: 1px solid var(--accent-color);
        }

        h1 {
            font-family: 'Orbitron', monospace;
            font-weight: 900;
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        #jam-digital {
            font-family: 'Orbitron', monospace;
            font-size: 4rem;
            font-weight: 700;
            letter-spacing: 3px;
            margin: 20px 0;
            text-shadow: 0 0 10px var(--primary-color);
        }

        #alarm-section {
            margin-top: 30px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-size: 1.1rem;
            color: var(--secondary-text);
        }

        input[type="time"] {
            background-color: var(--accent-color);
            border: 2px solid var(--primary-color);
            color: var(--text-color);
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 1.2rem;
            font-family: 'Orbitron', monospace;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        input[type="time"]:focus {
            outline: none;
            box-shadow: 0 0 15px var(--primary-color);
        }

        .button-group {
            margin-top: 20px;
        }

        button {
            background-color: var(--primary-color);
            color: var(--text-color);
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            margin: 5px;
        }

        button:hover {
            background-color: #c73650;
            transform: translateY(-2px);
        }

        button:active {
            transform: translateY(0);
        }

        #status-alarm {
            margin-top: 20px;
            font-style: italic;
            color: var(--secondary-text);
            min-height: 24px; /* Agar layout tidak bergerak */
        }

        /* Notifikasi Alarm */
        #notifikasi-alarm {
            display: none; /* Sembunyikan secara default */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.5s;
        }

        .konten-notifikasi {
            background-color: var(--container-bg);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            border: 3px solid var(--primary-color);
            animation: pulse 1.5s infinite;
        }

        .konten-notifikasi h2 {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(233, 69, 96, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(233, 69, 96, 0); }
            100% { box-shadow: 0 0 0 0 rgba(233, 69, 96, 0); }
        }

    </style>
</head>
<body>

    <div class="container">
        <h1>Alarm Pribadi</h1>
        <div id="jam-digital">00:00:00</div>
        
        <div id="alarm-section">
            <label for="waktu-alarm">Atur Waktu Alarm:</label>
            <input type="time" id="waktu-alarm">
            <div class="button-group">
                <button id="tombol-atur">Atur Alarm</button>
            </div>
        </div>

        <p id="status-alarm">Belum ada alarm yang diatur.</p>
    </div>

    <!-- Notifikasi yang muncul saat alarm berbunyi -->
    <div id="notifikasi-alarm">
        <div class="konten-notifikasi">
            <h2>⏰ Alarm Berbunyi! ⏰</h2>
            <p id="pesan-suara">PUTRI NUR AZHARI BANGUN SAYANG</p>
            <button id="tombol-hentikan">Hentikan Alarm</button>
        </div>
    </div>

    <script>
        /* --- LOGIKA (JAVASCRIPT) --- */

        // Mengambil elemen-elemen HTML yang dibutuhkan
        const jamDigital = document.getElementById('jam-digital');
        const waktuAlarmInput = document.getElementById('waktu-alarm');
        const tombolAtur = document.getElementById('tombol-atur');
        const statusAlarm = document.getElementById('status-alarm');
        const notifikasiAlarm = document.getElementById('notifikasi-alarm');
        const tombolHentikan = document.getElementById('tombol-hentikan');
        const pesanSuara = document.getElementById('pesan-suara').innerText; // Mengambil teks yang akan diucapkan

        let alarmAktif = null; // Variabel untuk menyimpan waktu alarm

        // Fungsi untuk memperbarui jam digital setiap detik
        function updateJam() {
            const sekarang = new Date();
            const jam = String(sekarang.getHours()).padStart(2, '0');
            const menit = String(sekarang.getMinutes()).padStart(2, '0');
            const detik = String(sekarang.getSeconds()).padStart(2, '0');
            
            jamDigital.textContent = `${jam}:${menit}:${detik}`;

            // Cek apakah alarm harus berbunyi
            if (alarmAktif && `${jam}:${menit}` === alarmAktif) {
                bunyikanAlarm();
            }
        }

        // Fungsi untuk mengatur alarm
        tombolAtur.addEventListener('click', () => {
            const waktuYangDipilih = waktuAlarmInput.value;
            if (waktuYangDipilih) {
                alarmAktif = waktuYangDipilih;
                statusAlarm.textContent = `Alarm diatur untuk pukul ${alarmAktif}`;
                statusAlarm.style.color = '#4caf50'; // Warna hijau untuk status aktif
            } else {
                statusAlarm.textContent = 'Silakan pilih waktu terlebih dahulu!';
                statusAlarm.style.color = '#ff9800'; // Warna oranye untuk peringatan
            }
        });

        // Fungsi yang dijalankan saat alarm berbunyi
        function bunyikanAlarm() {
            // Tampilkan notifikasi
            notifikasiAlarm.style.display = 'flex';

            // Gunakan Web Speech API untuk mengucapkan pesan
            if ('speechSynthesis' in window) {
                const ucapan = new SpeechSynthesisUtterance(pesanSuara);
                ucapan.lang = 'id-ID'; // Set bahasa ke Indonesia
                ucapan.rate = 1; // Kecepatan bicara (1 = normal)
                ucapan.pitch = 1; // Nada suara (1 = normal)
                ucapan.volume = 1; // Volume (0-1)
                
                window.speechSynthesis.speak(ucapan);
            } else {
                // Jika browser tidak mendukung, tampilkan pesan di konsol
                console.error("Browser Anda tidak mendukung Web Speech API.");
            }
            
            // Reset alarm setelah berbunyi agar tidak berulang
            alarmAktif = null;
            statusAlarm.textContent = 'Alarm telah berbunyi.';
            statusAlarm.style.color = '#e94560';
        }

        // Fungsi untuk menghentikan alarm
        tombolHentikan.addEventListener('click', () => {
            // Sembunyikan notifikasi
            notifikasiAlarm.style.display = 'none';
            
            // Hentikan ucapan jika masih berlangsung
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
            }

            // Reset status alarm
            alarmAktif = null;
            statusAlarm.textContent = 'Alarm dimatikan.';
            statusAlarm.style.color = '#a8a8a8';
        });

        // Jalankan fungsi updateJam setiap 1000 milidetik (1 detik)
        setInterval(updateJam, 1000);
        
        // Panggil sekali saat halaman dimuat agar jam muncul tanpa delay 1 detik
        updateJam();

    </script>
</body>
</html>